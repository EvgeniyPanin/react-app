(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[0],{100:function(e,t,a){e.exports={new_post:"NewPost_new_post__2AfRl",header:"NewPost_header__mmjeR"}},104:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){if(!e||0===e.length)return"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}},107:function(e,t,a){},136:function(e,t,a){"use strict";var n=a(15),r=a(16),c=a(18),o=a(17),s=a(0),i=a.n(s),u=a(9),l=a(10),m=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){Object(c.a)(s,t);var a=Object(o.a)(s);function s(){return Object(n.a)(this,s),a.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}]),s}(i.a.Component);return Object(l.b)(m)(t)}},137:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(35),r=a(4),c=function(e,t){return{message:t,id:e.length+1+""}},o={dialogs:[{name:"\u0410\u0440\u0442\u0435\u043c",id:"1"},{name:"\u0412\u0430\u0441\u0438\u043b\u0438\u0439",id:"2"},{name:"\u0413\u043e\u0448\u0430",id:"3"},{name:"\u0412\u0430\u043d\u044f",id:"4"},{name:"\u0414\u0438\u0430\u043d\u0430",id:"5"},{name:"\u0421\u0432\u0435\u0442\u0430",id:"6"},{name:"\u041f\u0435\u0442\u044f",id:"7"}],messages:[{message:"\u041f\u0440\u0438\u0432\u0435\u0442",id:"1"},{message:"\u041f\u0440\u0438\u0432\u0435\u0442 \u0431\u0440\u043e",id:"2"},{message:"\u0427\u0435\u043c \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0448\u044c\u0441\u044f?",id:"3"},{message:"\u0420\u0435\u0430\u043a\u0442 \u0432\u043e\u0442 \u0443\u0447\u0443",id:"4"},{message:"\u041a\u0443\u043b, \u0434\u0430\u0432\u0430\u0439 \u0443\u0447\u0438\u0442\u044c \u0438 \u043f\u0438\u043b\u0438\u0442\u044c \u0441\u043e\u0446\u0441\u0435\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u0435",id:"5"}]};function s(e){return{type:"DIALOG/ADD-MESSAGE",newMessage:e}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOG/ADD-MESSAGE":var a=c(e.messages,t.newMessage);return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(n.a)(e.messages),[a])});default:return e}}},14:function(e,t,a){e.exports={nav:"Navbar_nav__wyUdK",links:"Navbar_links__yCzSO",link:"Navbar_link__2XB7-",active:"Navbar_active__2SZTB"}},144:function(e,t,a){e.exports=a.p+"static/media/preloader.e8172795.gif"},145:function(e,t,a){e.exports={profile:"Profile_profile__ywwEN"}},146:function(e,t,a){e.exports={illustration:"Illustration_illustration__dsNtE"}},148:function(e,t,a){e.exports=a.p+"static/media/pencil.fa8188a6.png"},175:function(e,t,a){e.exports=a(303)},180:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},20:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return i}));var n=a(143),r=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"4fbd58e1-6a30-44ad-9c2a-27f02eab3798"}}),c={getUsers:function(e){return r.get("users?page=".concat(e)).then((function(e){return e.data}))}},o={deleteFollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},postFollow:function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))}},s={me:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t,a){return r.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},logout:function(){return r.delete("auth/login").then((function(e){return e.data}))}},i={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},setStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))},setAvatar:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}}},29:function(e,t,a){e.exports={container:"User_container__3W_wH",avatar__container:"User_avatar__container__190z_",avatar:"User_avatar__xyEAi",description__container:"User_description__container__2pgmm",button:"User_button__J9hKc",button_disabled:"User_button_disabled__6xD0s",name:"User_name__1K1vy",status:"User_status__1NTxa",location:"User_location__1iOQ5"}},302:function(e,t,a){},303:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),c=a(69),o=a.n(c),s=a(15),i=a(16),u=a(18),l=a(17),m=(a(180),a(74)),p=a.n(m),f=a(57),_=a.n(f),d=function(e){return r.a.createElement("div",{className:_.a.friend},r.a.createElement("span",{className:_.a.avatar_container},r.a.createElement("img",{className:_.a.avatar,src:e.src,alt:e.name})),r.a.createElement("h4",{className:_.a.friend__name},e.name))},b=function(e){var t=e.friends.slice(0,6).map((function(e){return r.a.createElement(d,{name:e.name,src:e.avatar})}));return r.a.createElement("div",{className:p.a.friends},r.a.createElement("h3",{className:p.a.header},"\u041c\u043e\u0438 \u0434\u0440\u0443\u0437\u044c\u044f"),r.a.createElement("div",{className:p.a.friends__container},t))},g=a(10),v=Object(g.b)((function(e){return{friends:e.navbar.friends}}),(function(e){return{}}))(b),E=a(14),h=a.n(E),O=a(12),j=function(e){return r.a.createElement("nav",{className:h.a.nav},r.a.createElement("ul",{className:h.a.links},r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/profile",activeClassName:h.a.active},"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/users",activeClassName:h.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/dialogs",activeClassName:h.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/news",activeClassName:h.a.active},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/music",activeClassName:h.a.active},"\u041c\u0443\u0437\u044b\u043a\u0430")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/settings",activeClassName:h.a.active},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))),r.a.createElement(v,null))},N=(a(185),function(e){return r.a.createElement("div",null,"News")}),S=(a(186),function(e){return r.a.createElement("div",null,"Music")}),w=a(9),U=(a(107),a(29)),P=a.n(U),y=a(71),A=a.n(y),F=function(e){var t=e.avatar?e.avatar:A.a;return r.a.createElement("div",{className:P.a.container},r.a.createElement("span",{className:P.a.avatar__container},r.a.createElement(O.b,{to:"/profile/".concat(e.userID)},r.a.createElement("img",{className:P.a.avatar,src:t,alt:"#"}))),r.a.createElement("div",{className:P.a.description__container},r.a.createElement("h2",{className:P.a.name},e.name),r.a.createElement("p",{className:P.a.status},e.status)),e.isAuth&&r.a.createElement("button",{disabled:e.isFollowingFetching.some((function(t){return t===e.userID})),onClick:function(){e.toggleSubscribe(e.userID,!e.fallowed)},className:e.isFollowingFetching.some((function(t){return t===e.userID}))?"".concat(P.a.button," ").concat(P.a.button_disabled):P.a.button},e.fallowed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))},k=function(e){var t=e.users,a=e.toggleSubscribe,n=e.isFollowingFetching,c=e.isAuth;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(F,{avatar:e.photos.small,name:e.name,toggleSubscribe:a,status:e.status,fallowed:e.followed,userID:e.id,isFollowingFetching:n,isAuth:c})})))},T=a(11),C=a.n(T),x=a(24),I=a(35),R=a(4),D=a(20),L={users:[],pageSize:10,totalUsersCount:null,currentPage:1,portionNumber:1,isFetching:!1,isFollowingFetching:[]};function G(e){return{type:"USERS/TOGGLE_FALLOWED",userID:e}}function H(e){return{type:"USERS/TOGGLE_IS_FETCHED",state:e}}function z(e,t){return{type:"USERS/TOGGLE_FOLLOWING_FETCHING",state:e,userID:t}}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/TOGGLE_FALLOWED":return Object(R.a)(Object(R.a)({},e),{},{users:e.users.map((function(e){return t.userID===e.id?Object(R.a)(Object(R.a)({},e),{},{followed:!e.followed}):e}))});case"USERS/SET_USERS":return Object(R.a)(Object(R.a)({},e),{},{users:Object(I.a)(t.users)});case"USERS/UPDATE_CURRENT_PAGE":return Object(R.a)(Object(R.a)({},e),{},{currentPage:t.newCurrentPage});case"USERS/TOGGLE_IS_FETCHED":return Object(R.a)(Object(R.a)({},e),{},{isFetching:t.state});case"USERS/SET_TOTAL_COUNT":return Object(R.a)(Object(R.a)({},e),{},{totalUsersCount:t.totalCount});case"USERS/SET_PORTION_NUMBER":return Object(R.a)(Object(R.a)({},e),{},{portionNumber:t.portionNumber});case"USERS/TOGGLE_FOLLOWING_FETCHING":return t.state?Object(R.a)(Object(R.a)({},e),{},{isFollowingFetching:[].concat(Object(I.a)(e.isFollowingFetching),[t.userID])}):Object(R.a)(Object(R.a)({},e),{},{isFollowingFetching:Object(I.a)(e.isFollowingFetching.filter((function(e){return e!==t.userID})))});default:return e}},Z=a(98),K=a.n(Z),W=a(144),B=a.n(W),J=function(e){return r.a.createElement("div",{className:K.a.container},r.a.createElement("img",{className:K.a.preloader,src:B.a}))},X=a(6),V=function(e){return e.usersPage.users},Q=function(e){return e.usersPage.currentPage},Y=function(e){return e.usersPage.portionNumber},q=function(e){return e.usersPage.totalUsersCount},$=function(e){return e.usersPage.pageSize},ee=function(e){return e.usersPage.isFollowingFetching},te=function(e){return e.usersPage.isFetching},ae=a(99),ne=a.n(ae),re=function(e){for(var t=e.totalUsersCount,a=e.pageSize,n=e.currentPage,c=e.portionNumber,o=e.setPortionNumber,s=e.portionLength,i=void 0===s?10:s,u=Math.ceil(t/a),l=[],m=1;m<=u;m++)l.push(m);var p=(c-1)*i,f=c*i,_=Math.ceil(l.length/i);return l=l.filter((function(e){return e>p&&e<=f})).map((function(t){return r.a.createElement("li",null,r.a.createElement("span",{className:t===n&&ne.a.active,onClick:e.togglePages},t))})),r.a.createElement("ul",{class:ne.a.pagination},c>1&&r.a.createElement("li",null,r.a.createElement("span",{onClick:function(){return o(c-1)}},"\xab")),c<=1&&r.a.createElement("div",null),l,c<_&&r.a.createElement("li",null,r.a.createElement("span",{onClick:function(){return o(c+1)}},"\xbb")))},ce=a(40),oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){var t=e.props,a=t.isFetching,n=t.totalUsersCount,c=t.pageSize,o=t.currentPage,s=t.users,i=t.toggleSubscribe,u=t.isFollowingFetching,l=t.portionNumber,m=t.setPortionNumber,p=t.isAuth,f=r.a.createElement(re,{totalUsersCount:n,pageSize:c,togglePages:e.togglePages,currentPage:o,portionNumber:l,portionLength:10,setPortionNumber:m});return r.a.createElement(r.a.Fragment,null,f,a?r.a.createElement(J,null):r.a.createElement("div",null,r.a.createElement(k,{users:s,toggleSubscribe:i,isFollowingFetching:u,isAuth:p})))},e.togglePages=function(t){var a=+t.target.textContent;e.props.updateCurrentPage(a),e.props.getUsers(a)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage)}}]),a}(r.a.Component),se=Object(X.d)(Object(g.b)((function(e){return{users:V(e),currentPage:Q(e),portionNumber:Y(e),totalUsersCount:q(e),pageSize:$(e),isFollowingFetching:ee(e),isFetching:te(e),isAuth:Object(ce.b)(e)}}),{updateCurrentPage:function(e){return{type:"USERS/UPDATE_CURRENT_PAGE",newCurrentPage:e}},setPortionNumber:function(e){return{type:"USERS/SET_PORTION_NUMBER",portionNumber:e}},getUsers:function(e){return function(){var t=Object(x.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(H(!0)),t.next=3,D.d.getUsers(e);case 3:n=t.sent,a({type:"USERS/SET_TOTAL_COUNT",totalCount:n.totalCount}),a(H(!1)),a({type:"USERS/SET_USERS",users:n.items});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleSubscribe:function(e,t){var a=t?"postFollow":"deleteFollow";return function(){var t=Object(x.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!0,e)),t.next=3,D.b[a](e);case 3:r=t.sent,0==r.resultCode&&n(G(e)),n(z(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(oe),ie=a(145),ue=a.n(ie),le=a(146),me=a.n(le),pe=function(){return r.a.createElement("span",{className:me.a.illustration})},fe=a(100),_e=a.n(fe),de=a(138),be=a(139),ge=a(75),ve=a.n(ge),Ee=a(104),he=Object(be.a)({form:"NewPostForm"})((function(e){return r.a.createElement("form",{className:ve.a.form,onSubmit:e.handleSubmit},r.a.createElement(de.a,{className:ve.a.input,type:"text",placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",component:"input",name:"NewPostText",validate:[Ee.a]}),r.a.createElement("button",{type:"submit",className:"btn btn-primary ".concat(ve.a.button)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))})),Oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.addPost(t.NewPostText)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:_e.a.new_post},r.a.createElement("h2",{className:_e.a.header},"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"),r.a.createElement(he,{onSubmit:this.onSubmit}))}}]),a}(r.a.Component),je=a(58),Ne=a.n(je),Se=function(e){return r.a.createElement("div",{className:Ne.a.post},r.a.createElement("span",{className:Ne.a.avatar_contaner},r.a.createElement("img",{className:Ne.a.avatar,src:e.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"})),r.a.createElement("p",{className:Ne.a.contant},e.contant))},we=function(e){var t=e.posts.map((function(t){return r.a.createElement(Se,{contant:t.contant,avatar:e.userAvatar})}));return r.a.createElement("div",null,r.a.createElement(Oe,{addPost:e.addPost}),t)},Ue="PROFILE/ADD-POST",Pe=function(e){return{contant:e,avatar:null}},ye={posts:[{contant:"\u0418\u0437 \u0437\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u044d\u0442\u0438 \u043f\u043e\u0441\u0442\u044b \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u0445\u0430\u0440\u0434\u043a\u043e\u0434",avatar:null},{contant:"Hello? How are you?",avatar:null},{contant:"Today is June 10th, perfect day to lern the React, Redux",avatar:null}],profile:null,status:null};function Ae(e){return{type:"PROFILE/SET_STATUS",status:e}}var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:var a=Pe(t.newPostText);return Object(R.a)(Object(R.a)({},e),{},{posts:[].concat(Object(I.a)(e.posts),[a])});case"PROFILE/SET_PROFILE":return Object(R.a)(Object(R.a)({},e),{},{profile:t.profile});case"PROFILE/SET_STATUS":return Object(R.a)(Object(R.a)({},e),{},{status:t.status});case"PROFILE/SET_USER_AVATAR_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{profile:Object(R.a)(Object(R.a)({},e.profile),{},{photos:t.photos})});default:return e}},ke=function(e){return e.profilePage.profile},Te=function(e){return e.profilePage.status},Ce=function(e){return e.profilePage.posts},xe=function(e){return e.profilePage.profile.photos.small},Ie=Object(g.b)((function(e){return{posts:Ce(e),userAvatar:xe(e)}}),{addPost:function(e){return{type:Ue,newPostText:e}}})(we),Re=a(141),De=a(36),Le=a.n(De),Ge=a(103),He=a(77),ze=a.n(He),Me=a(148),Ze=a.n(Me),Ke=function(e){var t=Object(n.useState)(!1),a=Object(Ge.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(e.status),i=Object(Ge.a)(s,2),u=i[0],l=i[1];Object(n.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,c?r.a.createElement("input",{className:ze.a.input,onChange:function(e){l(e.target.value)},autoFocus:!0,onBlur:function(){e.setUserStatus(u),o(!1)},value:u,type:"text"}):r.a.createElement("p",{className:ze.a.status},u,r.a.createElement("img",{onClick:function(){o(!0)},className:ze.a.pencil,src:Ze.a,alt:"edit"})))},We=a(47),Be=a.n(We),Je=function(e){return r.a.createElement("div",null,r.a.createElement("input",{className:Be.a.input_file,type:"file",name:"file",id:"file",onChange:e.fileLoader}),r.a.createElement("label",{className:"btn ".concat(Be.a.btn_tertiary," ").concat(Be.a.js_labelFile),for:"file"},r.a.createElement("i",{className:"".concat(Be.a.icon," fa fa_check")}),r.a.createElement("span",{className:Be.a.description},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))},Xe=a(37),Ve=a.n(Xe),Qe=function(e){var t=e.user;return console.log(t),r.a.createElement("div",null,r.a.createElement("p",{className:Ve.a.paragraph},r.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),t.aboutMe),r.a.createElement("p",{className:Ve.a.paragraph},r.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "),t.lookingForAJob?"\u2705":"\u274c"),t.lookingForAJob&&r.a.createElement("p",{className:Ve.a.paragraph},r.a.createElement("b",null,"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438: "),t.lookingForAJobDescription),r.a.createElement("b",null,"\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "),r.a.createElement("ul",{className:Ve.a.contacts},Object.keys(t.contacts).map((function(e){var a=t.contacts[e];return a&&r.a.createElement("li",{className:Ve.a.contacts__item,key:e},r.a.createElement("a",{className:"".concat(Ve.a[e]," ").concat(Ve.a.contacts__link),target:"_blanck",href:a}))}))))},Ye=function(e){var t=e.isOwner,a=e.user,n=Object(Re.a)(e,["isOwner","user"]),c=a.photos.large?a.photos.large:A.a;return r.a.createElement("div",{className:Le.a.container},r.a.createElement("div",{className:Le.a.avatar_container},r.a.createElement("span",{className:Le.a.image_container},r.a.createElement("img",{className:Le.a.avatar,src:c})),t&&r.a.createElement(Je,{fileLoader:n.loadAvatarHandle})),r.a.createElement("div",{className:Le.a.description_container},r.a.createElement("h3",{className:Le.a.user_name},a.fullName),t?r.a.createElement(Ke,{status:n.status,setUserStatus:n.setUserStatus}):r.a.createElement("p",{className:Le.a.status},a.aboutMe),r.a.createElement(Qe,{user:a})))},qe=r.a.memo((function(e){var t=e.user,a=e.status,n=e.setUserStatus,c=(e.myID,e.loadAvatarHandle),o=e.isOwner;return r.a.createElement("div",{className:ue.a.profile},o&&r.a.createElement(pe,null),r.a.createElement(Ye,{isOwner:o,user:t,status:a,setUserStatus:n,loadAvatarHandle:c}),o&&r.a.createElement(Ie,null))})),$e=a(136),et=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return e.props.user?r.a.createElement(qe,{isOwner:e.props.myID===e.props.user.userId,user:e.props.user,status:e.props.status,setUserStatus:e.props.setUserStatus,loadAvatarHandle:e.loadAvatarHandle}):r.a.createElement(J,null)},e.loadAvatarHandle=function(t){console.log(t.target.files[0]),e.props.setUserAvatar(t.target.files[0])},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.updateProfileSuccess()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.id!=e.match.params.id&&this.updateProfileSuccess()}},{key:"updateProfileSuccess",value:function(){var e=this.props.match.params.id||this.props.myID;this.props.acceptProfile(e),this.props.getStatus(e)}}]),a}(r.a.PureComponent),tt=Object(X.d)(Object(g.b)((function(e){return{user:ke(e),myID:Object(ce.a)(e),status:Te(e)}}),{acceptProfile:function(e){return function(){var t=Object(x.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.getProfile(e);case 2:n=t.sent,a({type:"PROFILE/SET_PROFILE",profile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(x.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.getStatus(e);case 2:n=t.sent,null!==(r=n.data)&&""!==r||(r="\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"),a(Ae(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserStatus:function(e){return function(){var t=Object(x.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.setStatus(e);case 2:n=t.sent,0===n.resultCode&&a(Ae(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserAvatar:function(e){return function(){var t=Object(x.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.setAvatar(e);case 2:n=t.sent,0===n.resultCode?a({type:"PROFILE/SET_USER_AVATAR_SUCCESS",photos:n.data.photos}):alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u0432\u0430\u0442\u0430\u0440\u0430");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),$e.a,w.f)(et),at=a(59),nt=a.n(at),rt=a(78),ct=a.n(rt),ot=function(e){return r.a.createElement("div",{className:ct.a.container},r.a.createElement("button",{className:"btn ".concat(ct.a.button),onClick:e.logoutHandler},"\u0412\u044b\u0439\u0442\u0438"),r.a.createElement(O.b,{className:ct.a.link,to:"/profile"},e.userLogin))},st=a(32),it=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).logoutHandler=function(){e.props.logout()},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(ot,Object.assign({logoutHandler:this.logoutHandler},this.props))}}]),a}(r.a.Component),ut=Object(g.b)(null,{logout:st.d})(it),lt=function(e){return r.a.createElement("header",{className:nt.a.header},r.a.createElement("img",{className:nt.a.logo,href:"social network icon",src:"https://openclipart.org/image/2400px/svg_to_png/216095/WWW-Icon-White-on-Black.png"}),r.a.createElement("div",{className:nt.a.auth},e.isAuth?r.a.createElement(ut,{userLogin:e.login}):r.a.createElement(O.b,{to:"/login",className:nt.a.login},"Login")))},mt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(lt,this.props)}},{key:"componentDidMount",value:function(){}}]),a}(r.a.Component),pt=Object(X.d)(Object(g.b)((function(e){return{isAuth:Object(ce.b)(e),login:Object(ce.c)(e)}}),{getMe:st.b}))(mt),ft={initialized:!1},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_INITIALIZE":return Object(R.a)(Object(R.a)({},e),{},{initialized:!0});default:return e}},dt=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(J,null)},r.a.createElement(e,t))}},bt=r.a.lazy((function(){return a.e(4).then(a.bind(null,312))})),gt=r.a.lazy((function(){return a.e(3).then(a.bind(null,311))})),vt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return this.props.initialized&&r.a.createElement("div",{className:"main"},r.a.createElement(pt,null),r.a.createElement(j,null),r.a.createElement("div",null,r.a.createElement(w.b,{path:"/profile/:id?",render:function(){return r.a.createElement(tt,null)}}),r.a.createElement(w.b,{path:"/users",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(w.b,{path:"/dialogs",render:dt(gt)}),r.a.createElement(w.b,{path:"/news",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(w.b,{path:"/music",render:function(){return r.a.createElement(S,null)}}),r.a.createElement(w.b,{path:"/login",render:dt(bt)})))}},{key:"componentDidMount",value:function(){this.props.initialization()}}]),a}(r.a.Component),Et=Object(X.d)(w.f,Object(g.b)((function(e){return{initialized:e.app.initialized}}),{initialization:function(){return function(e){var t=e(Object(st.b)());Promise.all([t]).then((function(){e({type:"APP/SET_INITIALIZE"})}))}}}))(vt),ht=(a(302),a(140)),Ot=a(137),jt={friends:[{name:"\u0410\u0440\u0442\u0435\u043c",avatar:"https://sun9-56.userapi.com/c627221/v627221045/1f868/BSgDaLPthEU.jpg"},{name:"\u0414\u0438\u043d\u0430\u0440\u0430",avatar:"https://sun9-20.userapi.com/c858420/v858420872/15fe20/ZyIMsPbQkfE.jpg"},{name:"\u0410\u043d\u0442\u043e\u043d",avatar:"https://sun9-11.userapi.com/c625825/v625825771/41496/azh0iVZs5JY.jpg"},{name:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439",avatar:"https://sun9-42.userapi.com/c840230/v840230984/58de1/zHlKOZkHGPk.jpg"}]},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return e},St=a(149),wt=Object(X.c)({profilePage:Fe,dialogPage:Ot.b,navbar:Nt,usersPage:M,auth:st.a,app:_t,form:ht.a}),Ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,Pt=Object(X.e)(wt,Ut(Object(X.a)(St.a)));window.store=Pt;var yt=Pt;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,null,r.a.createElement(g.a,{store:yt},r.a.createElement(Et,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return f}));var n=a(11),r=a.n(n),c=a(24),o=a(4),s=a(20),i=a(60),u={id:null,email:null,login:null,isAuth:!1,isFetching:!1},l=function(e,t,a,n){return{type:"AUTH/SET_USER_DATA",payload:{id:e,email:t,login:a,isAuth:n}}},m=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.me();case 2:0===(a=e.sent).resultCode&&(n=a.data,c=n.email,o=n.id,i=n.login,t(l(o,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(c.a)(r.a.mark((function n(c){var o,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.login(e,t,a);case 2:o=n.sent,0===o.resultCode?c(m()):(u=0===o.messages.length?"Failed authorized, some error":o.messages[0],c(Object(i.a)("login",{_error:u})));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.logout();case 2:0===e.sent.resultCode&&t(l(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_USER_DATA":return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}}},36:function(e,t,a){e.exports={container:"UserProfile_container__3zdrm",avatar_container:"UserProfile_avatar_container__qyWg2",image_container:"UserProfile_image_container__1x7mr",avatar:"UserProfile_avatar__2Zmz4",description_container:"UserProfile_description_container__1KLGp",user_name:"UserProfile_user_name__1GXdN"}},37:function(e,t,a){e.exports={paragraph:"AboutUser_paragraph__o36mO",contacts:"AboutUser_contacts__1uiVs",contacts__item:"AboutUser_contacts__item__z6E36",contacts__link:"AboutUser_contacts__link__1D2p7",instagram:"AboutUser_instagram__Ah2XQ",facebook:"AboutUser_facebook__ke6Bi",github:"AboutUser_github__1jZKo",mainLink:"AboutUser_mainLink__25tm8",website:"AboutUser_website__w8IsB",twitter:"AboutUser_twitter__2RLHU",vk:"AboutUser_vk__1wj5k",youtube:"AboutUser_youtube__3FmDl"}},40:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c}));var n=function(e){return e.auth.isAuth},r=function(e){return e.auth.login},c=function(e){return e.auth.id}},47:function(e,t,a){e.exports={btn_tertiary:"UploadFile_btn_tertiary__2WKHL",input_file:"UploadFile_input_file__13dJK",js_labelFile:"UploadFile_js_labelFile__1pg6d",icon:"UploadFile_icon__3GhnN",has_file:"UploadFile_has_file__3IOrY",description:"UploadFile_description__pg-E_"}},57:function(e,t,a){e.exports={friend:"Friend_friend__3189K",avatar_container:"Friend_avatar_container__3gcK6",friend__name:"Friend_friend__name__vsZVq",avatar:"Friend_avatar__2xv2i"}},58:function(e,t,a){e.exports={post:"Post_post__q9bdd",avatar_contaner:"Post_avatar_contaner__2ieOc",avatar:"Post_avatar__1Kjm-"}},59:function(e,t,a){e.exports={header:"Header_header__2B1Cb",logo:"Header_logo__2oJZT",auth:"Header_auth__3gyrX",login:"Header_login__2_QDm"}},71:function(e,t,a){e.exports=a.p+"static/media/user.5e000006.png"},74:function(e,t,a){e.exports={friends:"Friends_friends__3Lbpk",header:"Friends_header__2cdCi",friends__container:"Friends_friends__container__eQ7DM"}},75:function(e,t,a){e.exports={form:"NewPostForm_form__1Z7cI",input:"NewPostForm_input__1OeCf",button:"NewPostForm_button__1jJob"}},77:function(e,t,a){e.exports={input:"UserStatus_input__1yaz5",status:"UserStatus_status__uox-v",pencil:"UserStatus_pencil__ZgZTY"}},78:function(e,t,a){e.exports={container:"UserMenu_container__2sXSb",button:"UserMenu_button__2vSr8",link:"UserMenu_link__2yeZC"}},98:function(e,t,a){e.exports={container:"Preloader_container__3xfid",preloader:"Preloader_preloader__2iAGJ"}},99:function(e,t,a){e.exports={pagination:"Paginator_pagination__NU1g_",active:"Paginator_active__3yKRk"}}},[[175,1,2]]]);
//# sourceMappingURL=main.a05df4d2.chunk.js.map