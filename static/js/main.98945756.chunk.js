(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[0],{100:function(e,t,n){e.exports={input:"UserStatus_input__1yaz5",status:"UserStatus_status__uox-v"}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){if(!e||0===e.length)return"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}},105:function(e,t,n){},134:function(e,t,n){"use strict";var a=n(15),r=n(16),c=n(18),s=n(17),o=n(0),i=n.n(o),u=n(9),l=n(10),m=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){Object(c.a)(o,t);var n=Object(s.a)(o);function o(){return Object(a.a)(this,o),n.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}]),o}(i.a.Component);return Object(l.b)(m)(t)}},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(35),r=n(5),c=function(e,t){return{message:t,id:e.length+1+""}},s={dialogs:[{name:"\u0410\u0440\u0442\u0435\u043c",id:"1"},{name:"\u0412\u0430\u0441\u0438\u043b\u0438\u0439",id:"2"},{name:"\u0413\u043e\u0448\u0430",id:"3"},{name:"\u0412\u0430\u043d\u044f",id:"4"},{name:"\u0414\u0438\u0430\u043d\u0430",id:"5"},{name:"\u0421\u0432\u0435\u0442\u0430",id:"6"},{name:"\u041f\u0435\u0442\u044f",id:"7"}],messages:[{message:"\u041f\u0440\u0438\u0432\u0435\u0442",id:"1"},{message:"\u041f\u0440\u0438\u0432\u0435\u0442 \u0431\u0440\u043e",id:"2"},{message:"\u0427\u0435\u043c \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0448\u044c\u0441\u044f?",id:"3"},{message:"\u0420\u0435\u0430\u043a\u0442 \u0432\u043e\u0442 \u0443\u0447\u0443",id:"4"},{message:"\u041a\u0443\u043b, \u0434\u0430\u0432\u0430\u0439 \u0443\u0447\u0438\u0442\u044c \u0438 \u043f\u0438\u043b\u0438\u0442\u044c \u0441\u043e\u0446\u0441\u0435\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u0435",id:"5"}]};function o(e){return{type:"DIALOG/ADD-MESSAGE",newMessage:e}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOG/ADD-MESSAGE":var n=c(e.messages,t.newMessage);return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[n])});default:return e}}},14:function(e,t,n){e.exports={nav:"Navbar_nav__wyUdK",links:"Navbar_links__yCzSO",link:"Navbar_link__2XB7-",active:"Navbar_active__2SZTB"}},141:function(e,t,n){e.exports=n.p+"static/media/preloader.e8172795.gif"},142:function(e,t,n){e.exports={profile:"Profile_profile__ywwEN"}},143:function(e,t,n){e.exports={illustration:"Illustration_illustration__dsNtE"}},171:function(e,t,n){e.exports=n(299)},176:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},23:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var a=n(140),r=a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"4fbd58e1-6a30-44ad-9c2a-27f02eab3798"}}),c={getUsers:function(e){return r.get("users?page=".concat(e)).then((function(e){return e.data}))}},s={deleteFollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},postFollow:function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))}},o={me:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t,n){return r.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return r.delete("auth/login").then((function(e){return e.data}))}},i={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},setStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))}}},29:function(e,t,n){e.exports={container:"User_container__3W_wH",avatar__container:"User_avatar__container__190z_",avatar:"User_avatar__xyEAi",description__container:"User_description__container__2pgmm",button:"User_button__J9hKc",button_disabled:"User_button_disabled__6xD0s",name:"User_name__1K1vy",status:"User_status__1NTxa",location:"User_location__1iOQ5"}},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),c=n(67),s=n.n(c),o=n(15),i=n(16),u=n(18),l=n(17),m=(n(176),n(72)),p=n.n(m),f=n(55),d=n.n(f),_=function(e){return r.a.createElement("div",{className:d.a.friend},r.a.createElement("span",{className:d.a.avatar_container},r.a.createElement("img",{className:d.a.avatar,src:e.src,alt:e.name})),r.a.createElement("h4",{className:d.a.friend__name},e.name))},g=function(e){var t=e.friends.slice(0,6).map((function(e){return r.a.createElement(_,{name:e.name,src:e.avatar})}));return r.a.createElement("div",{className:p.a.friends},r.a.createElement("h3",{className:p.a.header},"\u041c\u043e\u0438 \u0434\u0440\u0443\u0437\u044c\u044f"),r.a.createElement("div",{className:p.a.friends__container},t))},b=n(10),v=Object(b.b)((function(e){return{friends:e.navbar.friends}}),(function(e){return{}}))(g),E=n(14),h=n.n(E),O=n(12),j=function(e){return r.a.createElement("nav",{className:h.a.nav},r.a.createElement("ul",{className:h.a.links},r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/profile",activeClassName:h.a.active},"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/users",activeClassName:h.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/dialogs",activeClassName:h.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/news",activeClassName:h.a.active},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/music",activeClassName:h.a.active},"\u041c\u0443\u0437\u044b\u043a\u0430")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/settings",activeClassName:h.a.active},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))),r.a.createElement(v,null))},N=(n(181),function(e){return r.a.createElement("div",null,"News")}),S=(n(182),function(e){return r.a.createElement("div",null,"Music")}),w=n(9),P=(n(105),n(29)),y=n.n(P),U=n(69),F=n.n(U),T=function(e){var t=e.avatar?e.avatar:F.a;return r.a.createElement("div",{className:y.a.container},r.a.createElement("span",{className:y.a.avatar__container},r.a.createElement(O.b,{to:"/profile/".concat(e.userID)},r.a.createElement("img",{className:y.a.avatar,src:t,alt:"#"}))),r.a.createElement("div",{className:y.a.description__container},r.a.createElement("h2",{className:y.a.name},e.name),r.a.createElement("p",{className:y.a.status},e.status)),e.isAuth&&r.a.createElement("button",{disabled:e.isFollowingFetching.some((function(t){return t===e.userID})),onClick:function(){e.toggleSubscribe(e.userID,!e.fallowed)},className:e.isFollowingFetching.some((function(t){return t===e.userID}))?"".concat(y.a.button," ").concat(y.a.button_disabled):y.a.button},e.fallowed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))},C=function(e){var t=e.users,n=e.toggleSubscribe,a=e.isFollowingFetching,c=e.isAuth;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(T,{avatar:e.photos.small,name:e.name,toggleSubscribe:n,status:e.status,fallowed:e.followed,userID:e.id,isFollowingFetching:a,isAuth:c})})))},k=n(11),I=n.n(k),x=n(26),A=n(35),R=n(5),D=n(23),L={users:[],pageSize:10,totalUsersCount:null,currentPage:1,portionNumber:1,isFetching:!1,isFollowingFetching:[]};function G(e){return{type:"USERS/TOGGLE_FALLOWED",userID:e}}function z(e){return{type:"USERS/TOGGLE_IS_FETCHED",state:e}}function M(e,t){return{type:"USERS/TOGGLE_FOLLOWING_FETCHING",state:e,userID:t}}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/TOGGLE_FALLOWED":return Object(R.a)(Object(R.a)({},e),{},{users:e.users.map((function(e){return t.userID===e.id?Object(R.a)(Object(R.a)({},e),{},{followed:!e.followed}):e}))});case"USERS/SET_USERS":return Object(R.a)(Object(R.a)({},e),{},{users:Object(A.a)(t.users)});case"USERS/UPDATE_CURRENT_PAGE":return Object(R.a)(Object(R.a)({},e),{},{currentPage:t.newCurrentPage});case"USERS/TOGGLE_IS_FETCHED":return Object(R.a)(Object(R.a)({},e),{},{isFetching:t.state});case"USERS/SET_TOTAL_COUNT":return Object(R.a)(Object(R.a)({},e),{},{totalUsersCount:t.totalCount});case"USERS/SET_PORTION_NUMBER":return Object(R.a)(Object(R.a)({},e),{},{portionNumber:t.portionNumber});case"USERS/TOGGLE_FOLLOWING_FETCHING":return t.state?Object(R.a)(Object(R.a)({},e),{},{isFollowingFetching:[].concat(Object(A.a)(e.isFollowingFetching),[t.userID])}):Object(R.a)(Object(R.a)({},e),{},{isFollowingFetching:Object(A.a)(e.isFollowingFetching.filter((function(e){return e!==t.userID})))});default:return e}},W=n(95),Z=n.n(W),B=n(141),K=n.n(B),J=function(e){return r.a.createElement("div",{className:Z.a.container},r.a.createElement("img",{className:Z.a.preloader,src:K.a}))},X=n(6),Y=function(e){return e.usersPage.users},Q=function(e){return e.usersPage.currentPage},q=function(e){return e.usersPage.portionNumber},V=function(e){return e.usersPage.totalUsersCount},$=function(e){return e.usersPage.pageSize},ee=function(e){return e.usersPage.isFollowingFetching},te=function(e){return e.usersPage.isFetching},ne=n(96),ae=n.n(ne),re=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,c=e.portionNumber,s=e.setPortionNumber,o=e.portionLength,i=void 0===o?10:o,u=Math.ceil(t/n),l=[],m=1;m<=u;m++)l.push(m);var p=(c-1)*i,f=c*i,d=Math.ceil(l.length/i);return l=l.filter((function(e){return e>p&&e<=f})).map((function(t){return r.a.createElement("li",null,r.a.createElement("span",{className:t===a&&ae.a.active,onClick:e.togglePages},t))})),r.a.createElement("ul",{class:ae.a.pagination},c>1&&r.a.createElement("li",null,r.a.createElement("span",{onClick:function(){return s(c-1)}},"\xab")),c<=1&&r.a.createElement("div",null),l,c<d&&r.a.createElement("li",null,r.a.createElement("span",{onClick:function(){return s(c+1)}},"\xbb")))},ce=n(38),se=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).render=function(){var t=e.props,n=t.isFetching,a=t.totalUsersCount,c=t.pageSize,s=t.currentPage,o=t.users,i=t.toggleSubscribe,u=t.isFollowingFetching,l=t.portionNumber,m=t.setPortionNumber,p=t.isAuth,f=r.a.createElement(re,{totalUsersCount:a,pageSize:c,togglePages:e.togglePages,currentPage:s,portionNumber:l,portionLength:10,setPortionNumber:m});return r.a.createElement(r.a.Fragment,null,f,n?r.a.createElement(J,null):r.a.createElement("div",null,r.a.createElement(C,{users:o,toggleSubscribe:i,isFollowingFetching:u,isAuth:p})))},e.togglePages=function(t){var n=+t.target.textContent;e.props.updateCurrentPage(n),e.props.getUsers(n)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage)}}]),n}(r.a.Component),oe=Object(X.d)(Object(b.b)((function(e){return{users:Y(e),currentPage:Q(e),portionNumber:q(e),totalUsersCount:V(e),pageSize:$(e),isFollowingFetching:ee(e),isFetching:te(e),isAuth:Object(ce.b)(e)}}),{updateCurrentPage:function(e){return{type:"USERS/UPDATE_CURRENT_PAGE",newCurrentPage:e}},setPortionNumber:function(e){return{type:"USERS/SET_PORTION_NUMBER",portionNumber:e}},getUsers:function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!0)),t.next=3,D.d.getUsers(e);case 3:a=t.sent,n({type:"USERS/SET_TOTAL_COUNT",totalCount:a.totalCount}),n(z(!1)),n({type:"USERS/SET_USERS",users:a.items});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleSubscribe:function(e,t){var n=t?"postFollow":"deleteFollow";return function(){var t=Object(x.a)(I.a.mark((function t(a){var r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(M(!0,e)),t.next=3,D.b[n](e);case 3:r=t.sent,0==r.resultCode&&a(G(e)),a(M(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(se),ie=n(142),ue=n.n(ie),le=n(143),me=n.n(le),pe=function(){return r.a.createElement("span",{className:me.a.illustration})},fe=n(97),de=n.n(fe),_e=n(136),ge=n(137),be=n(73),ve=n.n(be),Ee=n(102),he=Object(ge.a)({form:"NewPostForm"})((function(e){return r.a.createElement("form",{className:ve.a.form,onSubmit:e.handleSubmit},r.a.createElement(_e.a,{className:ve.a.input,type:"text",placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",component:"input",name:"NewPostText",validate:[Ee.a]}),r.a.createElement("button",{type:"submit",className:"btn btn-primary ".concat(ve.a.button)},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))})),Oe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.addPost(t.NewPostText)},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:de.a.new_post},r.a.createElement("h2",{className:de.a.header},"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"),r.a.createElement(he,{onSubmit:this.onSubmit}))}}]),n}(r.a.Component),je=n(56),Ne=n.n(je),Se=function(e){return r.a.createElement("div",{className:Ne.a.post},r.a.createElement("span",{className:Ne.a.avatar_contaner},r.a.createElement("img",{className:Ne.a.avatar,src:e.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"})),r.a.createElement("p",{className:Ne.a.contant},e.contant))},we=function(e){var t=e.posts.map((function(e){return r.a.createElement(Se,{contant:e.contant,avatar:e.avatar})}));return r.a.createElement("div",null,r.a.createElement(Oe,{addPost:e.addPost}),t)},Pe="PROFILE/ADD-POST",ye=function(e){return{contant:e,avatar:"https://sun9-2.userapi.com/c853516/v853516347/59171/s_YR0_yc0h0.jpg"}},Ue={posts:[{contant:"Hello? How are you?",avatar:"https://sun9-2.userapi.com/c853516/v853516347/59171/s_YR0_yc0h0.jpg"},{contant:"I use props! It's cool!",avatar:"https://sun9-2.userapi.com/c853516/v853516347/59171/s_YR0_yc0h0.jpg"},{contant:"Today is June 10th, perfect day to lern the React, Redux",avatar:"https://sun9-2.userapi.com/c853516/v853516347/59171/s_YR0_yc0h0.jpg"}],profile:null,status:null};function Fe(e){return{type:"PROFILE/SET_STATUS",status:e}}var Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:var n=ye(t.newPostText);return Object(R.a)(Object(R.a)({},e),{},{posts:[].concat(Object(A.a)(e.posts),[n])});case"PROFILE/SET_PROFILE":return Object(R.a)(Object(R.a)({},e),{},{profile:t.profile});case"PROFILE/SET_STATUS":return Object(R.a)(Object(R.a)({},e),{},{status:t.status});default:return e}},Ce=function(e){return e.profilePage.profile},ke=function(e){return e.profilePage.status},Ie=function(e){return e.profilePage.posts},xe=Object(b.b)((function(e){return{posts:Ie(e)}}),{addPost:function(e){return{type:Pe,newPostText:e}}})(we),Ae=n(40),Re=n.n(Ae),De=n(101),Le=n(100),Ge=n.n(Le),ze=function(e){var t=Object(a.useState)(!1),n=Object(De.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(e.status),i=Object(De.a)(o,2),u=i[0],l=i[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,c?r.a.createElement("input",{className:Ge.a.input,onChange:function(e){l(e.target.value)},autoFocus:!0,onBlur:function(){e.setUserStatus(u),s(!1)},value:u,type:"text"}):r.a.createElement("p",{className:Ge.a.status,onClick:function(){s(!0)}},u))},Me=function(e){var t=e.user.photos.large?e.user.photos.large:F.a;return r.a.createElement("div",{className:Re.a.container},r.a.createElement("span",{className:Re.a.avatar_container},r.a.createElement("img",{className:Re.a.avatar,src:t})),r.a.createElement("div",{className:Re.a.description_container},r.a.createElement("h3",{className:Re.a.user_name},e.user.fullName),e.user.userId===e.myID?r.a.createElement(ze,{status:e.status,setUserStatus:e.setUserStatus}):r.a.createElement("p",{className:Re.a.status},e.user.aboutMe)))},He=r.a.memo((function(e){return r.a.createElement("div",{className:ue.a.profile},r.a.createElement(pe,null),r.a.createElement(Me,{user:e.user,status:e.status,setUserStatus:e.setUserStatus,myID:e.myID}),r.a.createElement(xe,null))})),We=n(134),Ze=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).render=function(){return e.props.user?r.a.createElement(He,{user:e.props.user,status:e.props.status,setUserStatus:e.props.setUserStatus,myID:e.props.myID}):r.a.createElement(J,null)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id||this.props.myID;this.props.acceptProfile(e),this.props.getStatus(e)}}]),n}(r.a.PureComponent),Be=Object(X.d)(Object(b.b)((function(e){return{user:Ce(e),myID:Object(ce.a)(e),status:ke(e)}}),{acceptProfile:function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.getProfile(e);case 2:a=t.sent,n({type:"PROFILE/SET_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n){var a,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.getStatus(e);case 2:a=t.sent,null!==(r=a.data)&&""!==r||(r="\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"),n(Fe(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserStatus:function(e){return function(){var t=Object(x.a)(I.a.mark((function t(n){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.setStatus(e);case 2:a=t.sent,0===a.resultCode&&n(Fe(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),We.a,w.f)(Ze),Ke=n(57),Je=n.n(Ke),Xe=n(75),Ye=n.n(Xe),Qe=function(e){return r.a.createElement("div",{className:Ye.a.container},r.a.createElement("button",{className:"btn ".concat(Ye.a.button),onClick:e.logoutHandler},"\u0412\u044b\u0439\u0442\u0438"),r.a.createElement(O.b,{className:Ye.a.link,to:"/profile"},e.userLogin))},qe=n(32),Ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).logoutHandler=function(){e.props.logout()},e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(Qe,Object.assign({logoutHandler:this.logoutHandler},this.props))}}]),n}(r.a.Component),$e=Object(b.b)(null,{logout:qe.d})(Ve),et=function(e){return r.a.createElement("header",{className:Je.a.header},r.a.createElement("img",{className:Je.a.logo,href:"social network icon",src:"https://openclipart.org/image/2400px/svg_to_png/216095/WWW-Icon-White-on-Black.png"}),r.a.createElement("div",{className:Je.a.auth},e.isAuth?r.a.createElement($e,{userLogin:e.login}):r.a.createElement(O.b,{to:"/login",className:Je.a.login},"Login")))},tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(et,this.props)}},{key:"componentDidMount",value:function(){}}]),n}(r.a.Component),nt=Object(X.d)(Object(b.b)((function(e){return{isAuth:Object(ce.b)(e),login:Object(ce.c)(e)}}),{getMe:qe.b}))(tt),at={initialized:!1},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_INITIALIZE":return Object(R.a)(Object(R.a)({},e),{},{initialized:!0});default:return e}},ct=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(J,null)},r.a.createElement(e,t))}},st=r.a.lazy((function(){return n.e(4).then(n.bind(null,307))})),ot=r.a.lazy((function(){return n.e(3).then(n.bind(null,308))})),it=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return this.props.initialized&&r.a.createElement("div",{className:"main"},r.a.createElement(nt,null),r.a.createElement(j,null),r.a.createElement("div",null,r.a.createElement(w.b,{path:"/profile/:id?",render:function(){return r.a.createElement(Be,null)}}),r.a.createElement(w.b,{path:"/users",render:function(){return r.a.createElement(oe,null)}}),r.a.createElement(w.b,{path:"/dialogs",render:ct(ot)}),r.a.createElement(w.b,{path:"/news",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(w.b,{path:"/music",render:function(){return r.a.createElement(S,null)}}),r.a.createElement(w.b,{path:"/login",render:ct(st)})))}},{key:"componentDidMount",value:function(){this.props.initialization()}}]),n}(r.a.Component),ut=Object(X.d)(w.f,Object(b.b)((function(e){return{initialized:e.app.initialized}}),{initialization:function(){return function(e){var t=e(Object(qe.b)());Promise.all([t]).then((function(){e({type:"APP/SET_INITIALIZE"})}))}}}))(it),lt=(n(298),n(138)),mt=n(135),pt={friends:[{name:"\u0410\u0440\u0442\u0435\u043c",avatar:"https://sun9-56.userapi.com/c627221/v627221045/1f868/BSgDaLPthEU.jpg"},{name:"\u0414\u0438\u043d\u0430\u0440\u0430",avatar:"https://sun9-20.userapi.com/c858420/v858420872/15fe20/ZyIMsPbQkfE.jpg"},{name:"\u0410\u043d\u0442\u043e\u043d",avatar:"https://sun9-11.userapi.com/c625825/v625825771/41496/azh0iVZs5JY.jpg"},{name:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439",avatar:"https://sun9-42.userapi.com/c840230/v840230984/58de1/zHlKOZkHGPk.jpg"}]},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return e},dt=n(145),_t=Object(X.c)({profilePage:Te,dialogPage:mt.b,navbar:ft,usersPage:H,auth:qe.a,app:rt,form:lt.a}),gt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,bt=Object(X.e)(_t,gt(Object(X.a)(dt.a)));window.store=bt;var vt=bt;s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,null,r.a.createElement(b.a,{store:vt},r.a.createElement(ut,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));var a=n(11),r=n.n(a),c=n(26),s=n(5),o=n(23),i=n(58),u={id:null,email:null,login:null,isAuth:!1,isFetching:!1},l=function(e,t,n,a){return{type:"AUTH/SET_USER_DATA",payload:{id:e,email:t,login:n,isAuth:a}}},m=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.me();case 2:0===(n=e.sent).resultCode&&(a=n.data,c=a.email,s=a.id,i=a.login,t(l(s,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=Object(c.a)(r.a.mark((function a(c){var s,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.login(e,t,n);case 2:s=a.sent,0===s.resultCode?c(m()):(u=0===s.messages.length?"Failed authorized, some error":s.messages[0],c(Object(i.a)("login",{_error:u})));case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.logout();case 2:0===e.sent.resultCode&&t(l(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_USER_DATA":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}}},38:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a=function(e){return e.auth.isAuth},r=function(e){return e.auth.login},c=function(e){return e.auth.id}},40:function(e,t,n){e.exports={container:"UserProfile_container__3zdrm",avatar_container:"UserProfile_avatar_container__qyWg2",avatar:"UserProfile_avatar__2Zmz4",description_container:"UserProfile_description_container__1KLGp",user_name:"UserProfile_user_name__1GXdN"}},55:function(e,t,n){e.exports={friend:"Friend_friend__3189K",avatar_container:"Friend_avatar_container__3gcK6",friend__name:"Friend_friend__name__vsZVq",avatar:"Friend_avatar__2xv2i"}},56:function(e,t,n){e.exports={post:"Post_post__q9bdd",avatar_contaner:"Post_avatar_contaner__2ieOc",avatar:"Post_avatar__1Kjm-"}},57:function(e,t,n){e.exports={header:"Header_header__2B1Cb",logo:"Header_logo__2oJZT",auth:"Header_auth__3gyrX",login:"Header_login__2_QDm"}},69:function(e,t,n){e.exports=n.p+"static/media/user.5e000006.png"},72:function(e,t,n){e.exports={friends:"Friends_friends__3Lbpk",header:"Friends_header__2cdCi",friends__container:"Friends_friends__container__eQ7DM"}},73:function(e,t,n){e.exports={form:"NewPostForm_form__1Z7cI",input:"NewPostForm_input__1OeCf",button:"NewPostForm_button__1jJob"}},75:function(e,t,n){e.exports={container:"UserMenu_container__2sXSb",button:"UserMenu_button__2vSr8",link:"UserMenu_link__2yeZC"}},95:function(e,t,n){e.exports={container:"Preloader_container__3xfid",preloader:"Preloader_preloader__2iAGJ"}},96:function(e,t,n){e.exports={pagination:"Paginator_pagination__NU1g_",active:"Paginator_active__3yKRk"}},97:function(e,t,n){e.exports={new_post:"NewPost_new_post__2AfRl",header:"NewPost_header__mmjeR"}}},[[171,1,2]]]);
//# sourceMappingURL=main.98945756.chunk.js.map