(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[0],{101:function(e,t,a){e.exports={input:"UserStatus_input__1yaz5",status:"UserStatus_status__uox-v"}},103:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){if(!e||0===e.length)return"\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}},106:function(e,t,a){},135:function(e,t,a){"use strict";var n=a(15),r=a(16),c=a(18),o=a(17),s=a(0),i=a.n(s),u=a(9),l=a(10),m=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){Object(c.a)(s,t);var a=Object(o.a)(s);function s(){return Object(n.a)(this,s),a.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}]),s}(i.a.Component);return Object(l.b)(m)(t)}},136:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(35),r=a(4),c=function(e,t){return{message:t,id:e.length+1+""}},o={dialogs:[{name:"\u0410\u0440\u0442\u0435\u043c",id:"1"},{name:"\u0412\u0430\u0441\u0438\u043b\u0438\u0439",id:"2"},{name:"\u0413\u043e\u0448\u0430",id:"3"},{name:"\u0412\u0430\u043d\u044f",id:"4"},{name:"\u0414\u0438\u0430\u043d\u0430",id:"5"},{name:"\u0421\u0432\u0435\u0442\u0430",id:"6"},{name:"\u041f\u0435\u0442\u044f",id:"7"}],messages:[{message:"\u041f\u0440\u0438\u0432\u0435\u0442",id:"1"},{message:"\u041f\u0440\u0438\u0432\u0435\u0442 \u0431\u0440\u043e",id:"2"},{message:"\u0427\u0435\u043c \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0448\u044c\u0441\u044f?",id:"3"},{message:"\u0420\u0435\u0430\u043a\u0442 \u0432\u043e\u0442 \u0443\u0447\u0443",id:"4"},{message:"\u041a\u0443\u043b, \u0434\u0430\u0432\u0430\u0439 \u0443\u0447\u0438\u0442\u044c \u0438 \u043f\u0438\u043b\u0438\u0442\u044c \u0441\u043e\u0446\u0441\u0435\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u0435",id:"5"}]};function s(e){return{type:"DIALOG/ADD-MESSAGE",newMessage:e}}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOG/ADD-MESSAGE":var a=c(e.messages,t.newMessage);return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(n.a)(e.messages),[a])});default:return e}}},14:function(e,t,a){e.exports={nav:"Navbar_nav__wyUdK",links:"Navbar_links__yCzSO",link:"Navbar_link__2XB7-",active:"Navbar_active__2SZTB"}},142:function(e,t,a){e.exports=a.p+"static/media/preloader.e8172795.gif"},143:function(e,t,a){e.exports={profile:"Profile_profile__ywwEN"}},144:function(e,t,a){e.exports={illustration:"Illustration_illustration__dsNtE"}},172:function(e,t,a){e.exports=a(300)},177:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},20:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return i}));var n=a(141),r=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"4fbd58e1-6a30-44ad-9c2a-27f02eab3798"}}),c={getUsers:function(e){return r.get("users?page=".concat(e)).then((function(e){return e.data}))}},o={deleteFollow:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},postFollow:function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))}},s={me:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t,a){return r.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},logout:function(){return r.delete("auth/login").then((function(e){return e.data}))}},i={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},setStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))},setAvatar:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}}},29:function(e,t,a){e.exports={container:"User_container__3W_wH",avatar__container:"User_avatar__container__190z_",avatar:"User_avatar__xyEAi",description__container:"User_description__container__2pgmm",button:"User_button__J9hKc",button_disabled:"User_button_disabled__6xD0s",name:"User_name__1K1vy",status:"User_status__1NTxa",location:"User_location__1iOQ5"}},299:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),c=a(68),o=a.n(c),s=a(15),i=a(16),u=a(18),l=a(17),m=(a(177),a(73)),f=a.n(m),p=a(56),d=a.n(p),_=function(e){return r.a.createElement("div",{className:d.a.friend},r.a.createElement("span",{className:d.a.avatar_container},r.a.createElement("img",{className:d.a.avatar,src:e.src,alt:e.name})),r.a.createElement("h4",{className:d.a.friend__name},e.name))},g=function(e){var t=e.friends.slice(0,6).map((function(e){return r.a.createElement(_,{name:e.name,src:e.avatar})}));return r.a.createElement("div",{className:f.a.friends},r.a.createElement("h3",{className:f.a.header},"\u041c\u043e\u0438 \u0434\u0440\u0443\u0437\u044c\u044f"),r.a.createElement("div",{className:f.a.friends__container},t))},b=a(10),v=Object(b.b)((function(e){return{friends:e.navbar.friends}}),(function(e){return{}}))(g),E=a(14),h=a.n(E),O=a(12),S=function(e){return r.a.createElement("nav",{className:h.a.nav},r.a.createElement("ul",{className:h.a.links},r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/profile",activeClassName:h.a.active},"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/users",activeClassName:h.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/dialogs",activeClassName:h.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/news",activeClassName:h.a.active},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/music",activeClassName:h.a.active},"\u041c\u0443\u0437\u044b\u043a\u0430")),r.a.createElement("li",{className:h.a.link},r.a.createElement(O.b,{to:"/settings",activeClassName:h.a.active},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))),r.a.createElement(v,null))},j=(a(182),function(e){return r.a.createElement("div",null,"News")}),N=(a(183),function(e){return r.a.createElement("div",null,"Music")}),P=a(9),w=(a(106),a(29)),U=a.n(w),y=a(70),F=a.n(y),A=function(e){var t=e.avatar?e.avatar:F.a;return r.a.createElement("div",{className:U.a.container},r.a.createElement("span",{className:U.a.avatar__container},r.a.createElement(O.b,{to:"/profile/".concat(e.userID)},r.a.createElement("img",{className:U.a.avatar,src:t,alt:"#"}))),r.a.createElement("div",{className:U.a.description__container},r.a.createElement("h2",{className:U.a.name},e.name),r.a.createElement("p",{className:U.a.status},e.status)),e.isAuth&&r.a.createElement("button",{disabled:e.isFollowingFetching.some((function(t){return t===e.userID})),onClick:function(){e.toggleSubscribe(e.userID,!e.fallowed)},className:e.isFollowingFetching.some((function(t){return t===e.userID}))?"".concat(U.a.button," ").concat(U.a.button_disabled):U.a.button},e.fallowed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))},C=function(e){var t=e.users,a=e.toggleSubscribe,n=e.isFollowingFetching,c=e.isAuth;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(A,{avatar:e.photos.small,name:e.name,toggleSubscribe:a,status:e.status,fallowed:e.followed,userID:e.id,isFollowingFetching:n,isAuth:c})})))},T=a(11),k=a.n(T),I=a(24),x=a(35),R=a(4),D=a(20),L={users:[],pageSize:10,totalUsersCount:null,currentPage:1,portionNumber:1,isFetching:!1,isFollowingFetching:[]};function G(e){return{type:"USERS/TOGGLE_FALLOWED",userID:e}}function H(e){return{type:"USERS/TOGGLE_IS_FETCHED",state:e}}function z(e,t){return{type:"USERS/TOGGLE_FOLLOWING_FETCHING",state:e,userID:t}}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/TOGGLE_FALLOWED":return Object(R.a)(Object(R.a)({},e),{},{users:e.users.map((function(e){return t.userID===e.id?Object(R.a)(Object(R.a)({},e),{},{followed:!e.followed}):e}))});case"USERS/SET_USERS":return Object(R.a)(Object(R.a)({},e),{},{users:Object(x.a)(t.users)});case"USERS/UPDATE_CURRENT_PAGE":return Object(R.a)(Object(R.a)({},e),{},{currentPage:t.newCurrentPage});case"USERS/TOGGLE_IS_FETCHED":return Object(R.a)(Object(R.a)({},e),{},{isFetching:t.state});case"USERS/SET_TOTAL_COUNT":return Object(R.a)(Object(R.a)({},e),{},{totalUsersCount:t.totalCount});case"USERS/SET_PORTION_NUMBER":return Object(R.a)(Object(R.a)({},e),{},{portionNumber:t.portionNumber});case"USERS/TOGGLE_FOLLOWING_FETCHING":return t.state?Object(R.a)(Object(R.a)({},e),{},{isFollowingFetching:[].concat(Object(x.a)(e.isFollowingFetching),[t.userID])}):Object(R.a)(Object(R.a)({},e),{},{isFollowingFetching:Object(x.a)(e.isFollowingFetching.filter((function(e){return e!==t.userID})))});default:return e}},W=a(96),K=a.n(W),Z=a(142),B=a.n(Z),J=function(e){return r.a.createElement("div",{className:K.a.container},r.a.createElement("img",{className:K.a.preloader,src:B.a}))},X=a(6),V=function(e){return e.usersPage.users},Q=function(e){return e.usersPage.currentPage},q=function(e){return e.usersPage.portionNumber},Y=function(e){return e.usersPage.totalUsersCount},$=function(e){return e.usersPage.pageSize},ee=function(e){return e.usersPage.isFollowingFetching},te=function(e){return e.usersPage.isFetching},ae=a(97),ne=a.n(ae),re=function(e){for(var t=e.totalUsersCount,a=e.pageSize,n=e.currentPage,c=e.portionNumber,o=e.setPortionNumber,s=e.portionLength,i=void 0===s?10:s,u=Math.ceil(t/a),l=[],m=1;m<=u;m++)l.push(m);var f=(c-1)*i,p=c*i,d=Math.ceil(l.length/i);return l=l.filter((function(e){return e>f&&e<=p})).map((function(t){return r.a.createElement("li",null,r.a.createElement("span",{className:t===n&&ne.a.active,onClick:e.togglePages},t))})),r.a.createElement("ul",{class:ne.a.pagination},c>1&&r.a.createElement("li",null,r.a.createElement("span",{onClick:function(){return o(c-1)}},"\xab")),c<=1&&r.a.createElement("div",null),l,c<d&&r.a.createElement("li",null,r.a.createElement("span",{onClick:function(){return o(c+1)}},"\xbb")))},ce=a(39),oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){var t=e.props,a=t.isFetching,n=t.totalUsersCount,c=t.pageSize,o=t.currentPage,s=t.users,i=t.toggleSubscribe,u=t.isFollowingFetching,l=t.portionNumber,m=t.setPortionNumber,f=t.isAuth,p=r.a.createElement(re,{totalUsersCount:n,pageSize:c,togglePages:e.togglePages,currentPage:o,portionNumber:l,portionLength:10,setPortionNumber:m});return r.a.createElement(r.a.Fragment,null,p,a?r.a.createElement(J,null):r.a.createElement("div",null,r.a.createElement(C,{users:s,toggleSubscribe:i,isFollowingFetching:u,isAuth:f})))},e.togglePages=function(t){var a=+t.target.textContent;e.props.updateCurrentPage(a),e.props.getUsers(a)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage)}}]),a}(r.a.Component),se=Object(X.d)(Object(b.b)((function(e){return{users:V(e),currentPage:Q(e),portionNumber:q(e),totalUsersCount:Y(e),pageSize:$(e),isFollowingFetching:ee(e),isFetching:te(e),isAuth:Object(ce.b)(e)}}),{updateCurrentPage:function(e){return{type:"USERS/UPDATE_CURRENT_PAGE",newCurrentPage:e}},setPortionNumber:function(e){return{type:"USERS/SET_PORTION_NUMBER",portionNumber:e}},getUsers:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(H(!0)),t.next=3,D.d.getUsers(e);case 3:n=t.sent,a({type:"USERS/SET_TOTAL_COUNT",totalCount:n.totalCount}),a(H(!1)),a({type:"USERS/SET_USERS",users:n.items});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleSubscribe:function(e,t){var a=t?"postFollow":"deleteFollow";return function(){var t=Object(I.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!0,e)),t.next=3,D.b[a](e);case 3:r=t.sent,0==r.resultCode&&n(G(e)),n(z(!1,e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(oe),ie=a(143),ue=a.n(ie),le=a(144),me=a.n(le),fe=function(){return r.a.createElement("span",{className:me.a.illustration})},pe=a(98),de=a.n(pe),_e=a(137),ge=a(138),be=a(74),ve=a.n(be),Ee=a(103),he=Object(ge.a)({form:"NewPostForm"})((function(e){return r.a.createElement("form",{className:ve.a.form,onSubmit:e.handleSubmit},r.a.createElement(_e.a,{className:ve.a.input,type:"text",placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?",component:"input",name:"NewPostText",validate:[Ee.a]}),r.a.createElement("button",{type:"submit",className:"btn btn-primary ".concat(ve.a.button)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))})),Oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.addPost(t.NewPostText)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:de.a.new_post},r.a.createElement("h2",{className:de.a.header},"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"),r.a.createElement(he,{onSubmit:this.onSubmit}))}}]),a}(r.a.Component),Se=a(57),je=a.n(Se),Ne=function(e){return r.a.createElement("div",{className:je.a.post},r.a.createElement("span",{className:je.a.avatar_contaner},r.a.createElement("img",{className:je.a.avatar,src:e.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"})),r.a.createElement("p",{className:je.a.contant},e.contant))},Pe=function(e){var t=e.posts.map((function(t){return r.a.createElement(Ne,{contant:t.contant,avatar:e.userAvatar})}));return r.a.createElement("div",null,r.a.createElement(Oe,{addPost:e.addPost}),t)},we="PROFILE/ADD-POST",Ue=function(e){return{contant:e,avatar:null}},ye={posts:[{contant:"\u0418\u0437 \u0437\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\u0433\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u044d\u0442\u0438 \u043f\u043e\u0441\u0442\u044b \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u0445\u0430\u0440\u0434\u043a\u043e\u0434",avatar:null},{contant:"Hello? How are you?",avatar:null},{contant:"Today is June 10th, perfect day to lern the React, Redux",avatar:null}],profile:null,status:null};function Fe(e){return{type:"PROFILE/SET_STATUS",status:e}}var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:var a=Ue(t.newPostText);return Object(R.a)(Object(R.a)({},e),{},{posts:[].concat(Object(x.a)(e.posts),[a])});case"PROFILE/SET_PROFILE":return Object(R.a)(Object(R.a)({},e),{},{profile:t.profile});case"PROFILE/SET_STATUS":return Object(R.a)(Object(R.a)({},e),{},{status:t.status});case"PROFILE/SET_USER_AVATAR_SUCCESS":return Object(R.a)(Object(R.a)({},e),{},{profile:Object(R.a)(Object(R.a)({},e.profile),{},{photos:t.photos})});default:return e}},Ce=function(e){return e.profilePage.profile},Te=function(e){return e.profilePage.status},ke=function(e){return e.profilePage.posts},Ie=function(e){return e.profilePage.profile.photos.small},xe=Object(b.b)((function(e){return{posts:ke(e),userAvatar:Ie(e)}}),{addPost:function(e){return{type:we,newPostText:e}}})(Pe),Re=a(36),De=a.n(Re),Le=a(102),Ge=a(101),He=a.n(Ge),ze=function(e){var t=Object(n.useState)(!1),a=Object(Le.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(e.status),i=Object(Le.a)(s,2),u=i[0],l=i[1];Object(n.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,c?r.a.createElement("input",{className:He.a.input,onChange:function(e){l(e.target.value)},autoFocus:!0,onBlur:function(){e.setUserStatus(u),o(!1)},value:u,type:"text"}):r.a.createElement("p",{className:He.a.status,onClick:function(){o(!0)}},u))},Me=a(46),We=a.n(Me),Ke=function(e){return r.a.createElement("div",null,r.a.createElement("input",{className:We.a.input_file,type:"file",name:"file",id:"file",onChange:e.fileLoader}),r.a.createElement("label",{className:"btn ".concat(We.a.btn_tertiary," ").concat(We.a.js_labelFile),for:"file"},r.a.createElement("i",{className:"".concat(We.a.icon," fa fa_check")}),r.a.createElement("span",{className:We.a.description},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))},Ze=function(e){var t=e.user.photos.large?e.user.photos.large:F.a,a=e.user.userId===e.myID;return r.a.createElement("div",{className:De.a.container},r.a.createElement("div",{className:De.a.avatar_container},r.a.createElement("span",{className:De.a.image_container},r.a.createElement("img",{className:De.a.avatar,src:t})),a&&r.a.createElement(Ke,{fileLoader:e.loadAvatarHandle})),r.a.createElement("div",{className:De.a.description_container},r.a.createElement("h3",{className:De.a.user_name},e.user.fullName),a?r.a.createElement(ze,{status:e.status,setUserStatus:e.setUserStatus}):r.a.createElement("p",{className:De.a.status},e.user.aboutMe)))},Be=r.a.memo((function(e){var t=e.user,a=e.status,n=e.setUserStatus,c=e.myID,o=e.loadAvatarHandle,s=t.userId===c;return r.a.createElement("div",{className:ue.a.profile},s&&r.a.createElement(fe,null),r.a.createElement(Ze,{user:t,status:a,setUserStatus:n,myID:c,loadAvatarHandle:o}),s&&r.a.createElement(xe,null))})),Je=a(135),Xe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return e.props.user?r.a.createElement(Be,{user:e.props.user,status:e.props.status,setUserStatus:e.props.setUserStatus,myID:e.props.myID,loadAvatarHandle:e.loadAvatarHandle}):r.a.createElement(J,null)},e.loadAvatarHandle=function(t){console.log(t.target.files[0]),e.props.setUserAvatar(t.target.files[0])},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.updateProfileSuccess()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.id!=e.match.params.id&&this.updateProfileSuccess()}},{key:"updateProfileSuccess",value:function(){var e=this.props.match.params.id||this.props.myID;this.props.acceptProfile(e),this.props.getStatus(e)}}]),a}(r.a.PureComponent),Ve=Object(X.d)(Object(b.b)((function(e){return{user:Ce(e),myID:Object(ce.a)(e),status:Te(e)}}),{acceptProfile:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.getProfile(e);case 2:n=t.sent,a({type:"PROFILE/SET_PROFILE",profile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.getStatus(e);case 2:n=t.sent,null!==(r=n.data)&&""!==r||(r="\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"),a(Fe(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserStatus:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.setStatus(e);case 2:n=t.sent,0===n.resultCode&&a(Fe(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserAvatar:function(e){return function(){var t=Object(I.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.c.setAvatar(e);case 2:n=t.sent,0===n.resultCode?a({type:"PROFILE/SET_USER_AVATAR_SUCCESS",photos:n.data.photos}):alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u0432\u0430\u0442\u0430\u0440\u0430");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Je.a,P.f)(Xe),Qe=a(58),qe=a.n(Qe),Ye=a(76),$e=a.n(Ye),et=function(e){return r.a.createElement("div",{className:$e.a.container},r.a.createElement("button",{className:"btn ".concat($e.a.button),onClick:e.logoutHandler},"\u0412\u044b\u0439\u0442\u0438"),r.a.createElement(O.b,{className:$e.a.link,to:"/profile"},e.userLogin))},tt=a(32),at=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).logoutHandler=function(){e.props.logout()},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(et,Object.assign({logoutHandler:this.logoutHandler},this.props))}}]),a}(r.a.Component),nt=Object(b.b)(null,{logout:tt.d})(at),rt=function(e){return r.a.createElement("header",{className:qe.a.header},r.a.createElement("img",{className:qe.a.logo,href:"social network icon",src:"https://openclipart.org/image/2400px/svg_to_png/216095/WWW-Icon-White-on-Black.png"}),r.a.createElement("div",{className:qe.a.auth},e.isAuth?r.a.createElement(nt,{userLogin:e.login}):r.a.createElement(O.b,{to:"/login",className:qe.a.login},"Login")))},ct=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(rt,this.props)}},{key:"componentDidMount",value:function(){}}]),a}(r.a.Component),ot=Object(X.d)(Object(b.b)((function(e){return{isAuth:Object(ce.b)(e),login:Object(ce.c)(e)}}),{getMe:tt.b}))(ct),st={initialized:!1},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_INITIALIZE":return Object(R.a)(Object(R.a)({},e),{},{initialized:!0});default:return e}},ut=function(e){return function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(J,null)},r.a.createElement(e,t))}},lt=r.a.lazy((function(){return a.e(4).then(a.bind(null,308))})),mt=r.a.lazy((function(){return a.e(3).then(a.bind(null,309))})),ft=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return this.props.initialized&&r.a.createElement("div",{className:"main"},r.a.createElement(ot,null),r.a.createElement(S,null),r.a.createElement("div",null,r.a.createElement(P.b,{path:"/profile/:id?",render:function(){return r.a.createElement(Ve,null)}}),r.a.createElement(P.b,{path:"/users",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(P.b,{path:"/dialogs",render:ut(mt)}),r.a.createElement(P.b,{path:"/news",render:function(){return r.a.createElement(j,null)}}),r.a.createElement(P.b,{path:"/music",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(P.b,{path:"/login",render:ut(lt)})))}},{key:"componentDidMount",value:function(){this.props.initialization()}}]),a}(r.a.Component),pt=Object(X.d)(P.f,Object(b.b)((function(e){return{initialized:e.app.initialized}}),{initialization:function(){return function(e){var t=e(Object(tt.b)());Promise.all([t]).then((function(){e({type:"APP/SET_INITIALIZE"})}))}}}))(ft),dt=(a(299),a(139)),_t=a(136),gt={friends:[{name:"\u0410\u0440\u0442\u0435\u043c",avatar:"https://sun9-56.userapi.com/c627221/v627221045/1f868/BSgDaLPthEU.jpg"},{name:"\u0414\u0438\u043d\u0430\u0440\u0430",avatar:"https://sun9-20.userapi.com/c858420/v858420872/15fe20/ZyIMsPbQkfE.jpg"},{name:"\u0410\u043d\u0442\u043e\u043d",avatar:"https://sun9-11.userapi.com/c625825/v625825771/41496/azh0iVZs5JY.jpg"},{name:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439",avatar:"https://sun9-42.userapi.com/c840230/v840230984/58de1/zHlKOZkHGPk.jpg"}]},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;return e},vt=a(146),Et=Object(X.c)({profilePage:Ae,dialogPage:_t.b,navbar:bt,usersPage:M,auth:tt.a,app:it,form:dt.a}),ht=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,Ot=Object(X.e)(Et,ht(Object(X.a)(vt.a)));window.store=Ot;var St=Ot;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,null,r.a.createElement(b.a,{store:St},r.a.createElement(pt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return p}));var n=a(11),r=a.n(n),c=a(24),o=a(4),s=a(20),i=a(59),u={id:null,email:null,login:null,isAuth:!1,isFetching:!1},l=function(e,t,a,n){return{type:"AUTH/SET_USER_DATA",payload:{id:e,email:t,login:a,isAuth:n}}},m=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n,c,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.me();case 2:0===(a=e.sent).resultCode&&(n=a.data,c=n.email,o=n.id,i=n.login,t(l(o,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(c.a)(r.a.mark((function n(c){var o,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.login(e,t,a);case 2:o=n.sent,0===o.resultCode?c(m()):(u=0===o.messages.length?"Failed authorized, some error":o.messages[0],c(Object(i.a)("login",{_error:u})));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.logout();case 2:0===e.sent.resultCode&&t(l(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_USER_DATA":return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}}},36:function(e,t,a){e.exports={container:"UserProfile_container__3zdrm",avatar_container:"UserProfile_avatar_container__qyWg2",image_container:"UserProfile_image_container__1x7mr",avatar:"UserProfile_avatar__2Zmz4",description_container:"UserProfile_description_container__1KLGp",user_name:"UserProfile_user_name__1GXdN"}},39:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c}));var n=function(e){return e.auth.isAuth},r=function(e){return e.auth.login},c=function(e){return e.auth.id}},46:function(e,t,a){e.exports={btn_tertiary:"UploadFile_btn_tertiary__2WKHL",input_file:"UploadFile_input_file__13dJK",js_labelFile:"UploadFile_js_labelFile__1pg6d",icon:"UploadFile_icon__3GhnN",has_file:"UploadFile_has_file__3IOrY",description:"UploadFile_description__pg-E_"}},56:function(e,t,a){e.exports={friend:"Friend_friend__3189K",avatar_container:"Friend_avatar_container__3gcK6",friend__name:"Friend_friend__name__vsZVq",avatar:"Friend_avatar__2xv2i"}},57:function(e,t,a){e.exports={post:"Post_post__q9bdd",avatar_contaner:"Post_avatar_contaner__2ieOc",avatar:"Post_avatar__1Kjm-"}},58:function(e,t,a){e.exports={header:"Header_header__2B1Cb",logo:"Header_logo__2oJZT",auth:"Header_auth__3gyrX",login:"Header_login__2_QDm"}},70:function(e,t,a){e.exports=a.p+"static/media/user.5e000006.png"},73:function(e,t,a){e.exports={friends:"Friends_friends__3Lbpk",header:"Friends_header__2cdCi",friends__container:"Friends_friends__container__eQ7DM"}},74:function(e,t,a){e.exports={form:"NewPostForm_form__1Z7cI",input:"NewPostForm_input__1OeCf",button:"NewPostForm_button__1jJob"}},76:function(e,t,a){e.exports={container:"UserMenu_container__2sXSb",button:"UserMenu_button__2vSr8",link:"UserMenu_link__2yeZC"}},96:function(e,t,a){e.exports={container:"Preloader_container__3xfid",preloader:"Preloader_preloader__2iAGJ"}},97:function(e,t,a){e.exports={pagination:"Paginator_pagination__NU1g_",active:"Paginator_active__3yKRk"}},98:function(e,t,a){e.exports={new_post:"NewPost_new_post__2AfRl",header:"NewPost_header__mmjeR"}}},[[172,1,2]]]);
//# sourceMappingURL=main.31da0267.chunk.js.map